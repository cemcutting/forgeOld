<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Forge: A Quick Guide</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Forge:<span class="mywbr"> &nbsp;</span> A Quick Guide</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.The_.Language%29" class="tocviewlink" data-pltdoc="x">The Language</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Forge__.A_.Quick_.Guide%29" class="tocsubseclink" data-pltdoc="x">Forge:<span class="mywbr"> &nbsp;</span> A Quick Guide</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.The_.Language%29" class="tocsubseclink" data-pltdoc="x">The Language</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Atoms__.Sigs__and_.Relations%29" class="tocsubseclink" data-pltdoc="x">Atoms, Sigs, and Relations</a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">declare-<wbr></wbr>sig</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._sigs%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sigs</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-one-sig%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">declare-<wbr></wbr>one-<wbr></wbr>sig</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.The_.Run_.Statement%29" class="tocsubseclink" data-pltdoc="x">The Run Statement</a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">run</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Run_with_.Bounds%29" class="tocsubseclink" data-pltdoc="x">Run with Bounds</a></td></tr><tr><td><span class="tocsublinknumber">1.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Run_with_.Constraints%29" class="tocsubseclink" data-pltdoc="x">Run with Constraints</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Constraints%29" class="tocsubseclink" data-pltdoc="x">Constraints</a></td></tr><tr><td><span class="tocsublinknumber">1.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Expressions%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">+</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~26%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&amp;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-<wbr></wbr>&gt;</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._join%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">join</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~7e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">~</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~5e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">^</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">*</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._none%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">none</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._iden%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">iden</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._univ%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">univ</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._set%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">set</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Formulas%29" class="tocsubseclink" data-pltdoc="x">Formulas</a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._in%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">in</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._and%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">and</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._or%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">or</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._some%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">some</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._no%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">no</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._one%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">one</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._lone%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lone</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.3.3<tt>&nbsp;</tt></span><a href="#%28part._.Quantifiers%29" class="tocsubseclink" data-pltdoc="x">Quantifiers</a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">all</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._some%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">some</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._one%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">one</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._lone%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lone</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.3.4<tt>&nbsp;</tt></span><a href="#%28part._.Facts%29" class="tocsubseclink" data-pltdoc="x">Facts</a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._fact%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">fact</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.3.5<tt>&nbsp;</tt></span><a href="#%28part._.Predicates%29" class="tocsubseclink" data-pltdoc="x">Predicates</a></td></tr><tr><td><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._pred%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">pred</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Putting_it_all_together%29" class="tocsubseclink" data-pltdoc="x">Putting it all together</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">7.2</span></div><h2><a name="(part._.Forge__.A_.Quick_.Guide)"></a><a name="(mod-path._forge)"></a>Forge: A Quick Guide</h2><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="file:///Applications/Racket%20v7.2/doc/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">forge</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/forge" title="Install this package using `raco pkg install forge`"><span class="stt">forge</span></a></span></td></tr></table></p><p>Welcome to Forge!  Forge is a language built for teaching formal methods and model checking.  Forge is very much a work in progress, and is notably missing both integers and type hierarchy for sigs - rest assured, these features, and many more, are on their way!</p><p>Forge extends the <a href="https://docs.racket-lang.org/ocelot/">Ocelot</a> package to create first-order relational logic models.  Forge differs from Ocelot in that it provides:</p><ul><li><p>Alloy-like semantics for universe declaration (i.e. implicitly defining a universe of discourse in terms of sigs and bounds)</p></li><li><p>A built-in visualizer and evaluator</p></li><li><p>Support for KodKod integers (coming soon)</p></li><li><p>Built-in semantics for state (coming soon)</p></li><li><p>Additional teaching tools like language levels and different interaction modes (coming soon)</p></li></ul><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.The_.Language%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>The Language</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Atoms__.Sigs__and_.Relations%29" class="toclink" data-pltdoc="x">1.1<span class="hspace">&nbsp;</span>Atoms, Sigs, and Relations</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.The_.Run_.Statement%29" class="toclink" data-pltdoc="x">1.2<span class="hspace">&nbsp;</span>The Run Statement</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Run_with_.Bounds%29" class="toclink" data-pltdoc="x">1.2.1<span class="hspace">&nbsp;</span>Run with Bounds</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Run_with_.Constraints%29" class="toclink" data-pltdoc="x">1.2.2<span class="hspace">&nbsp;</span>Run with Constraints</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Constraints%29" class="toclink" data-pltdoc="x">1.3<span class="hspace">&nbsp;</span>Constraints</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Expressions%29" class="toclink" data-pltdoc="x">1.3.1<span class="hspace">&nbsp;</span>Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Formulas%29" class="toclink" data-pltdoc="x">1.3.2<span class="hspace">&nbsp;</span>Formulas</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Quantifiers%29" class="toclink" data-pltdoc="x">1.3.3<span class="hspace">&nbsp;</span>Quantifiers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Facts%29" class="toclink" data-pltdoc="x">1.3.4<span class="hspace">&nbsp;</span>Facts</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Predicates%29" class="toclink" data-pltdoc="x">1.3.5<span class="hspace">&nbsp;</span>Predicates</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Putting_it_all_together%29" class="toclink" data-pltdoc="x">1.4<span class="hspace">&nbsp;</span>Putting it all together</a></p></td></tr></table><h3>1<tt>&nbsp;</tt><a name="(part._.The_.Language)"></a>The Language</h3><p>To begin working with forge, make sure to begin your file with the line:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="file:///Applications/Racket%20v7.2/doc/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">forge</span></a><span class="RktMeta"></span></td></tr></table></blockquote><h4>1.1<tt>&nbsp;</tt><a name="(part._.Atoms__.Sigs__and_.Relations)"></a>Atoms, Sigs, and Relations</h4><p>Forge is a tool that is used to build models in relational logic.  As such, it generates instances that are made of atoms, which represent particulars in a universe of discourse, and relations, which are sets of tuples of atoms.  The forge language lets us specify what sorts of atoms and what relations exist in the universe of our model.</p><p>The primary construct in forge is the sig.  A sig represents a type of atom that can appear in the universe.</p><p>To declare a sig, use the declare-sig or declare-one-sig form:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._declare-sig))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">declare-sig</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">field-sig</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Adds a sig called <span class="RktVar">name</span> to the universe.  If any relations are specified, adds them to the spec.  The type of a declared relation is (name -&gt; field-sig0 -&gt; field-sig1 ...).</div></p><p>For example, we might use forge to model a simple directed graph.  To do this, we&rsquo;d specify a sig to represent vertices of the graph and a relation to represent edges.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">vertex</span></td></tr><tr><td><p><span class="RktRes">(relation 1 "vertex")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">edges</span></td></tr><tr><td><p><span class="RktRes">(relation 2 "edges")</span></p></td></tr></table></blockquote></div></p><p>This declaration adds two relations to the spec - the arity 1 relation <span class="RktSym">vertex</span>, which contains exactly the atoms of type vertex in the universe, and the arity 2 relation <span class="RktSym">edges</span>, which contains some number of pairs of vertices, or is empty.</p><p>We could also envision a more complicated example with more relations or relations of higher arity, like a spec to model a graph of references stored on the heap that changes over time.  One way to approach modeling such a scenario could be to write:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">heap-cell</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">state</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">references</span><span class="hspace">&nbsp;</span><span class="RktSym">heap-cell</span><span class="hspace">&nbsp;</span><span class="RktSym">heap-cell</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">allocated</span><span class="hspace">&nbsp;</span><span class="RktSym">heap-cell</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._sigs%29%29" class="RktValLink" data-pltdoc="x">sigs</a></span></td></tr><tr><td><p><span class="RktRes">'((relation 1 "state") (relation 1 "heap-cell") (relation 1 "vertex"))</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._forge/main..rkt)._sigs))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._sigs%29%29" class="RktValDef RktValLink" data-pltdoc="x">sigs</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Applications/Racket%20v7.2/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A list of all the declared sigs in a spec.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._declare-one-sig))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-one-sig%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">declare-one-sig</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-one-sig%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">declare-one-sig</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">field-sig</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span>, but also implicitly bounds the sig such that each instance contains exactly one atom of type <span class="RktVar">name</span>.</div></p><h4>1.2<tt>&nbsp;</tt><a name="(part._.The_.Run_.Statement)"></a>The Run Statement</h4><p>After we&rsquo;ve defined the sigs and relations that make up our spec, we can run it!</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._run))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">run</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">constraint</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">sig</span><span class="hspace">&nbsp;</span><span class="RktVar">lower</span><span class="hspace">&nbsp;</span><span class="RktVar">upper</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">constraint</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">sig</span><span class="hspace">&nbsp;</span><span class="RktVar">lower</span><span class="hspace">&nbsp;</span><span class="RktVar">upper</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Calling <span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span> will automatically launch the visualizer in a web browser.  Calling run multiple times will launch multiple instances of the visualizer as browser tabs.</p><p>Each run statement has a name - this is so we can include multiple run statements in a spec and differentiate them.  Names should be unique strings.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"My first spec"</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Optionally, it is often useful to specify bounds or constraints with a run statement.</p><h5>1.2.1<tt>&nbsp;</tt><a name="(part._.Run_with_.Bounds)"></a>Run with Bounds</h5><p>By default, a universe of discourse contains four potential atoms of any given sig, so in any given instance there are zero to four atoms of each type (other than one-sigs, which have exactly one atom).  Often, there is cause to have a different upper and lower bound on a sig.  These bounds can be specified at the run statement.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"My first bounded spec"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>This run statement finds instances of a graph with no fewer than three and no more than five vertices.  Any sigs for which a bound is not specified use the default bound.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cow</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">horse</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sheep</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Barnyard"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">cow</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">horse</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>This run statement finds instances with exactly 3 cows, between 2 and 5 horses, and between 0 and 4 sheep.</p><h5>1.2.2<tt>&nbsp;</tt><a name="(part._.Run_with_.Constraints)"></a>Run with Constraints</h5><p>Run statements can also be called with constraints.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Directed Acyclic Graph"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._no%29%29" class="RktValLink" data-pltdoc="x">no</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~26%29%29" class="RktValLink" data-pltdoc="x">&amp;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._iden%29%29" class="RktValLink" data-pltdoc="x">iden</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~5e%29%29" class="RktValLink" data-pltdoc="x">^</a></span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The above run statement requires that the edges relation is acyclic.  For more information on how to write constraints, see the section on Constraints.</p><h4>1.3<tt>&nbsp;</tt><a name="(part._.Constraints)"></a>Constraints</h4><p>In addition to defining what sigs and relations can exist in a model, we need to be able to assert thins about properties of a model.  Forge provides a language for specifying such constraints in terms of expressions and formulas.</p><h5>1.3.1<tt>&nbsp;</tt><a name="(part._.Expressions)"></a>Expressions</h5><p>Forge uses Ocelot&rsquo;s language for representing expressions and formulas.</p><p>Expressions represent symbolic relations.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._+))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2B%29%29" class="RktValDef RktValLink" data-pltdoc="x">+</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the union of the given relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._~26))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~26%29%29" class="RktValDef RktValLink" data-pltdoc="x">&amp;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the intersection of the given relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._-))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the difference of the given relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._-~3e))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the cartesian product of the given relations.&rsquo;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._join))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._join%29%29" class="RktValDef RktValLink" data-pltdoc="x">join</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the relational join of the given relations.  The output relation has arity = (arity of r0) + (arity of r1) - 2, and contains tuples created by appending members of r0 and r1 where the last element of the member of r0 matches the first element of r1.  So, if x contains (a b) and (c b) and y contains (b d) and (e f), <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._join%29%29" class="RktValLink" data-pltdoc="x">join</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span> contains (a d) and (c d)</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._~7e))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~7e%29%29" class="RktValDef RktValLink" data-pltdoc="x">~</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the transpose of the given relation.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._~5e))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~5e%29%29" class="RktValDef RktValLink" data-pltdoc="x">^</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the transitive closure of the given relation.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._*))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the reflexive transitive closure of the given relation.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._forge/main..rkt)._none))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><span class="RktSymDef RktSym">none</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An empty relation.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._forge/main..rkt)._iden))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._iden%29%29" class="RktValDef RktValLink" data-pltdoc="x">iden</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An arity 2 relation containing every atom in the universe related to itself.  So, for each atom x, iden containx the tuple (x x).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._forge/main..rkt)._univ))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._univ%29%29" class="RktValDef RktValLink" data-pltdoc="x">univ</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An arity 1 relation containing every atom in the universe as a singleton.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._set))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._set%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">set</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A relation with arity equal to the number of [id domain] declarations.  Each domain is an arity 1 relaion.  A tuple (x1 ... xn) is in the relation if and only if x1 is in the first domain, x2 is in the second, etc. and formula evaluates to true when x1 ... xn are bound to id1 ... idn.</div></p><h5>1.3.2<tt>&nbsp;</tt><a name="(part._.Formulas)"></a>Formulas</h5><p>Formulas evaluate to true of false, and are used to place constraints on relations.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._in))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._in%29%29" class="RktValDef RktValLink" data-pltdoc="x">in</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r0 is a subset of r1</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._~3d))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d%29%29" class="RktValDef RktValLink" data-pltdoc="x">=</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span><span class="RktVar">r1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r0 and r1 contain exactly the same tuples</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._and))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._and%29%29" class="RktValDef RktValLink" data-pltdoc="x">and</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span><span class="RktVar">f1</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff all the arguments are true</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._or))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._or%29%29" class="RktValDef RktValLink" data-pltdoc="x">or</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span><span class="RktVar">f1</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff at least one argument is true</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._~3d~3e))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">=&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span><span class="RktVar">f1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f0</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff f0 implies f1</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._!))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff f is false</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._some))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._some%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">some</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r is non-empty</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._no))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._no%29%29" class="RktValDef RktValLink" data-pltdoc="x">no</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r is empty</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._one))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><span class="RktSymDef RktSym">one</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r has exactly one element</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._forge/main..rkt)._lone))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._lone%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lone</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that&rsquo;s true iff r has zero or one elements</div></p><h5>1.3.3<tt>&nbsp;</tt><a name="(part._.Quantifiers)"></a>Quantifiers</h5><p>Quantifiers are a type of formula that check each member of a specified set for some property.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._all))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._all%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">all</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Where each domain is an arity 1-relation and body-formula is a formula. Produces a formula that&rsquo;s true iff, for every binding of each id to an element of its domain, body-formula is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._some))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._some%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">some</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Where each domain is an arity 1-relation and body-formula is a formula. Produces a formula that&rsquo;s true iff, for at least one binding of each id to an element of its domain, body-formula is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._one))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><span class="RktSymDef RktSym">one</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Where each domain is an arity 1-relation and body-formula is a formula. Produces a formula that&rsquo;s true iff, for exactly one binding of each id to an element of its domain, body-formula is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._lone))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._lone%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lone</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Where each domain is an arity 1-relation and body-formula is a formula. Produces a formula that&rsquo;s true iff, for at most one binding of each id to an element of its domain, body-formula is true.</div></p><h5>1.3.4<tt>&nbsp;</tt><a name="(part._.Facts)"></a>Facts</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._fact))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._fact%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">fact</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Requires that formula be true in every instance generated by every <span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span> statement called after this fact declaration.</div></p><h5>1.3.5<tt>&nbsp;</tt><a name="(part._.Predicates)"></a>Predicates</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._forge/main..rkt)._pred))"></a><span title="Provided from: forge | Package: forge"><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._pred%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">pred</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._pred%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">pred</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">vars</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Binds name to formula but doesn&rsquo;t implicitly require it to be true.  If the second form is used, binds name to a function that takes arguments vars ... evaluates formula with each argument bound the the apropriate variable.</div></p><h4>1.4<tt>&nbsp;</tt><a name="(part._.Putting_it_all_together)"></a>Putting it all together</h4><p>Here&rsquo;s an example of a simple Forge spec we might write to define an undirected tree.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._declare-sig%29%29" class="RktStxLink" data-pltdoc="x">declare-sig</a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._fact%29%29" class="RktStxLink" data-pltdoc="x">fact</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~7e%29%29" class="RktValLink" data-pltdoc="x">~</a></span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._fact%29%29" class="RktStxLink" data-pltdoc="x">fact</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._in%29%29" class="RktValLink" data-pltdoc="x">in</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._fact%29%29" class="RktStxLink" data-pltdoc="x">fact</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._all%29%29" class="RktStxLink" data-pltdoc="x">all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">v1</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">v2</span><span class="hspace">&nbsp;</span><span class="RktSym">vertex</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~3d~3e%29%29" class="RktValLink" data-pltdoc="x">=&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._in%29%29" class="RktValLink" data-pltdoc="x">in</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%21%29%29" class="RktValLink" data-pltdoc="x">!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._in%29%29" class="RktValLink" data-pltdoc="x">in</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._~5e%29%29" class="RktValLink" data-pltdoc="x">^</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">edges</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._forge%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">v2</span><span class="hspace">&nbsp;</span><span class="RktSym">v1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._forge%2Fmain..rkt%29._run%29%29" class="RktStxLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Undirected Tree"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">vertex</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>